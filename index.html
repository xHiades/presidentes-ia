<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Conexi贸n Hist贸rica: Di谩logos con Presidentes</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;700&family=Lato:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <style>
/* 1. THE SETUP */
* {
    box-sizing: border-box;
    scroll-behavior: smooth;
}
body {
    background-color: #f0f4f8; 
    /* Cambiado de grid a flex para centrar el contenedor principal */
    display: flex; 
    justify-content: center;
    align-items: center;
    margin: 0;
    min-height: 100vh;
    padding: 20px;
}
.slide-container {
    align-items: center;
    background-color: #ffffff; 
    border-radius: 12px;
    box-shadow: 0 10px 20px rgba(0, 0, 0, 0.1);
    display: flex;
    flex-direction: column;
    /* Reducido el alto y cambiado a ancho relativo para escritorio */
    height: 760px; 
    width: 90%; 
    max-width: 1280px; 

    justify-content: flex-start;
    overflow: hidden;
    padding: 40px 60px;
    position: relative;

    /* Inicialmente oculto por defecto, se maneja con JS */
    display: none; 
}
/* Estilo para mostrar solo la diapositiva activa */
.slide-container.active {
    display: flex;
}

.slide-container.retro-bg::before,
.slide-container.patriotic-bg::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    z-index: 0;
}
.slide-container.retro-bg::before {
    background: linear-gradient(180deg, #E7D6C1 0%, #ffffff 100%); 
}
.slide-container.patriotic-bg::before {
    background: linear-gradient(180deg, rgba(169, 214, 229, 0.3) 0%, rgba(255, 255, 255, 0.8) 100%); 
}
.slide-container > * {
    position: relative;
    z-index: 1;
}

/* 2. TYPOGRAPHY */
.slide-container h1, .slide-container h2, .slide-container h3, .slide-container .slide-title {
    color: #012a4a; font-family: 'Poppins', sans-serif; font-weight: 700; margin: 0;
}
.slide-container p, .slide-container li, .slide-container .subtitle, .slide-container .card-text, .slide-container .card-dates {
    color: #334155; font-family: 'Lato', sans-serif; font-size: 20px; line-height: 1.5;
}
.slide-container .slide-title {
    font-size: 44px; margin-bottom: 30px; text-align: left; width: 100%;
}
.slide-container .content-area {
    align-items: center;
    display: flex;
    flex-grow: 1;
    justify-content: center;
    width: 100%;
}

/* 3. IMAGE STYLES */
.image-wrapper { width: 100px; height: 100px; border-radius: 50%; overflow: hidden; flex-shrink: 0; border: 3px solid #012a4a; background-color: #e3f2fd; }
.image-wrapper img { width: 100%; height: 100%; object-fit: cover; }
.portrait-large { width: 250px; height: 250px; border-radius: 50%; border: 5px solid #012a4a; background-color: #a9d6e5; overflow: hidden; }
.portrait-large img { width: 100%; height: 100%; object-fit: cover; }


/* 4. LAYOUT: Title_Slide (Slide 1) */
.title-layout { text-align: center; width: 100%; display: flex; flex-direction: column; justify-content: center; align-items: center; height: 100%; }
.title-layout h1 { font-size: 60px; color: #d90429; }
.title-layout h2.subtitle { font-size: 32px; color: #012a4a; margin-top: 10px; }
.title-layout .main-icon-wrapper { display: flex; gap: 50px; align-items: center; justify-content: center; margin: 30px 0 50px; }
.title-layout .main-icon-wrapper i.retro-icon { font-size: 150px; color: #334155; padding: 0 10px; text-shadow: 4px 4px 6px rgba(0, 0, 0, 0.1); }
.title-layout .main-icon-wrapper i.tech-icon { font-size: 100px; color: #012a4a; border: 3px solid #E7D6C1; border-radius: 8px; padding: 15px; background-color: #f8fafc; }
.title-layout .icon-bar { display: flex; gap: 30px; font-size: 32px; color: #334155; }

/* 5. LAYOUT: Tiled_Images (Slide 3 - Selection) */
.selection-layout { display: grid; grid-template-columns: 1fr 1fr; gap: 35px; width: 100%; }
.selection-card { background-color: #f8fafc; border: 2px solid #a9d6e5; border-radius: 12px; padding: 25px; display: flex; align-items: center; gap: 25px; transition: transform 0.2s, box-shadow 0.2s; text-decoration: none; }
.selection-card:hover { transform: translateY(-5px); box-shadow: 0 8px 15px rgba(0, 0, 0, 0.15); }
.card-text-content { display: flex; flex-direction: column; }
.selection-card .card-text { font-size: 30px; font-weight: 700; font-family: 'Poppins', sans-serif; color: #012a4a; line-height: 1.2; }
.selection-card .card-dates { font-size: 18px; font-weight: 700; color: #334155; line-height: 1.2; }
.selection-layout .icon-bar { grid-column: 1 / -1; display: flex; justify-content: center; gap: 40px; font-size: 26px; color: #475569; align-items: center; margin-top: 20px; }
.selection-layout .icon-bar i { margin-right: 8px; color: #a9d6e5; }

/* 6. LAYOUT: Tiled_Text (Slide 2 - Instructions) */
.tiled-content { display: flex; gap: 30px; width: 100%; align-items: stretch; }
.tile { flex: 1; background-color: #f8fafc; border: 2px solid #a9d6e5; border-radius: 12px; padding: 30px; text-align: center; }
.tile .icon { font-size: 70px; color: #d90429; margin-bottom: 25px; }
.tile h3 { color: #012a4a; font-family: 'Poppins', sans-serif; font-size: 28px; margin-bottom: 15px; }
.tile p { font-size: 18px; line-height: 1.4; }

/* 7. LAYOUT: Image_Right_Text_Left (Slides 4-7) */
.two-column {
    align-items: center;
    /* Modificado a 1.5fr para dar m谩s espacio al texto */
    display: grid;
    grid-template-columns: 1.5fr 1fr; 
    gap: 60px;
    width: 100%;
}
.two-column .visual-area {
    background-color: #f8fafc;
    border-radius: 12px;
    padding: 30px;
    height: 480px;
    display: flex;
    flex-direction: column;
    justify-content: space-between;
    align-items: center;
    box-shadow: inset 0 0 10px rgba(0, 0, 0, 0.05);
    order: 2; /* Visual area goes to the right */
}
.two-column .text-content {
    display: flex;
    flex-direction: column;
    justify-content: center;
    order: 1; /* Text content goes to the left */
}
.two-column .text-content p { font-size: 26px; margin-bottom: 40px; }
.two-column .icon-bar-bottom { display: flex; gap: 25px; font-size: 38px; color: #334155; }
.sepia-bg { background: linear-gradient(135deg, #fdf8e2 0%, #a9d6e5 100%); }
.blue-paris-bg { background: linear-gradient(135deg, #a9d6e5 0%, #e0e7ff 100%); }
.gray-bg { background: linear-gradient(135deg, #d1d5db 0%, #f3f4f6 100%); }
.peron-bg { background: linear-gradient(135deg, #a9d6e5 0%, #ffffff 100%); }

/* 8. LAYOUT: Reflection (Slide 8) */
.reflection-layout { align-items: flex-start; }
.reflection-layout h2 { font-size: 48px; text-align: center; width: 100%; }
.reflection-layout p { font-size: 28px; font-weight: 700; color: #d90429; }
.reflection-layout .prompt-area { width: 100%; text-align: center; margin-top: 30px; }
.reflection-layout .icon-bar { display: flex; gap: 30px; font-size: 40px; color: #012a4a; margin-bottom: 20px; justify-content: center; }
.reflection-layout .textarea-placeholder {
    width: 80%;
    height: 250px;
    margin: 0 auto;
    background-color: #f8fafc;
    border: 3px dashed #a9d6e5;
    border-radius: 10px;
    padding: 30px;
    color: #64748b;
    font-family: 'Lato', sans-serif;
    font-size: 20px;
    font-style: italic;
    text-align: left;
}


/* 9. SHARED: Interactive Button Bar */
.button-bar {
    position: absolute;
    bottom: 40px;
    left: 60px;
    right: 60px;
    display: flex;
    justify-content: space-between;
    align-items: center;
}
.button-bar.center { justify-content: center; }
.button-bar.end { justify-content: flex-end; }
.nav-button {
    font-family: 'Poppins', sans-serif; font-size: 18px; font-weight: 700;
    padding: 12px 28px; border: none; border-radius: 30px; cursor: pointer;
    text-decoration: none; display: inline-flex; align-items: center; gap: 10px;
    transition: transform 0.2s, box-shadow 0.2s;
}
.nav-button:hover { transform: translateY(-3px); box-shadow: 0 4px 10px rgba(0, 0, 0, 0.15); }
.nav-button.primary { background-color: #d90429; color: white; }
.nav-button.secondary { background-color: #a9d6e5; color: #012a4a; }
.button-group { display: flex; gap: 15px; }

/* 10. MODAL STYLES */
.modal-overlay {
    position: fixed; top: 0; left: 0; width: 100%; height: 100%;
    background-color: rgba(0, 0, 0, 0.7); display: none; justify-content: center;
    align-items: center; z-index: 1000; overflow-y: auto;
}
.modal-content {
    background: #ffffff; border-radius: 15px; max-width: 900px; padding: 40px;
    position: relative; box-shadow: 0 15px 30px rgba(0, 0, 0, 0.4); animation: fadeIn 0.3s ease-out;
    font-family: 'Lato', sans-serif; max-height: 90vh; overflow-y: auto;
}
.modal-content h3 { color: #012a4a; font-family: 'Poppins', sans-serif; font-size: 32px; border-bottom: 3px solid #a9d6e5; padding-bottom: 10px; margin-bottom: 20px; text-align: center; }
.modal-content h4 { color: #d90429; font-size: 24px; margin-top: 25px; margin-bottom: 10px; }
.modal-content .prompt-box {
    background-color: #f8fafc; border: 1px solid #a9d6e5; border-left: 5px solid #d90429; 
    padding: 15px; margin-bottom: 20px; font-family: monospace; font-size: 16px;
    overflow-x: auto; white-space: pre-wrap; word-break: break-all; cursor: copy; 
}
.modal-content ol { padding-left: 25px; margin-bottom: 20px; font-size: 18px; color: #334155; }
.modal-content ol li { margin-bottom: 8px; line-height: 1.4; }
.modal-content .close-button {
    position: absolute; top: 15px; right: 15px; background: none; border: none;
    font-size: 30px; cursor: pointer; color: #64748b;
}
.modal-footer { display: flex; justify-content: space-between; align-items: center; padding-top: 20px; }
.modal-footer .warning { color: #d90429; font-size: 16px; font-weight: 700; }
@keyframes fadeIn { from { opacity: 0; transform: translateY(-30px); } to { opacity: 1; transform: translateY(0); } }


/* CHAT INTEGRADO EN EL MODAL (m铆nimo cambio est茅tico) */
#chatBox {
    border: 1px solid #cbd5f5;
    border-radius: 10px;
    padding: 10px;
    margin-top: 15px;
    display: flex;
    flex-direction: column;
    gap: 8px;
    max-height: 320px;
}

.chat-messages {
    flex: 1;
    overflow-y: auto;
    background: #f8fafc;
    padding: 8px;
    border-radius: 6px;
    font-size: 14px;
}

.chat-message {
    margin-bottom: 6px;
}

.chat-message.user {
    font-weight: 600;
}

.chat-message.assistant {
    margin-left: 4px;
}

.chat-input-row {
    display: flex;
    gap: 8px;
}

.chat-input-row input {
    flex: 1;
}

/* 11. MOBILE OPTIMIZATION (Responsive Design) */
@media (max-width: 768px) {
    body { padding: 10px; align-items: flex-start; }
    .slide-container {
        width: 100%;
        min-height: 90vh; /* Usa casi toda la altura de la vista */
        height: auto;
        padding: 30px 20px;
        box-shadow: none; /* Menos sombra en m贸vil */
        overflow-y: auto;
    }

    /* T铆tulos y subt铆tulos m谩s peque帽os en m贸vil */
    .slide-container .slide-title { font-size: 30px; margin-bottom: 20px; }
    .title-layout h1 { font-size: 40px; }
    .title-layout h2.subtitle { font-size: 24px; }
    .slide-container p, .slide-container li, .slide-container .card-text { font-size: 16px; }

    /* LAYOUT: Slide 1 */
    .title-layout .main-icon-wrapper { gap: 20px; margin: 20px 0 30px; }
    .title-layout .main-icon-wrapper i.retro-icon { font-size: 90px; }
    .title-layout .main-icon-wrapper i.tech-icon { font-size: 60px; padding: 10px; }
    .title-layout .icon-bar { font-size: 20px; flex-wrap: wrap; justify-content: center; }

    /* LAYOUT: Slide 2 (Instrucciones) */
    .tiled-content { flex-direction: column; gap: 20px; }
    .tile h3 { font-size: 22px; }

    /* LAYOUT: Slide 3 (Selecci贸n) */
    .selection-layout { grid-template-columns: 1fr; gap: 15px; }
    .selection-card { padding: 15px; }
    .selection-card .card-text { font-size: 24px; }
    .selection-layout .icon-bar { flex-direction: column; gap: 10px; font-size: 18px; margin-top: 10px; }

    /* LAYOUT: Slides 4-7 (Presidentes) */
    .two-column { grid-template-columns: 1fr; gap: 30px; }
    .two-column .visual-area { height: auto; padding: 20px; order: 1; /* Imagen arriba */ }
    .two-column .text-content { order: 2; /* Texto abajo */ }
    .two-column .portrait-large { width: 150px; height: 150px; border-width: 3px; }
    .two-column .text-content p { font-size: 18px; margin-bottom: 20px; }
    .two-column .icon-bar-bottom { font-size: 30px; justify-content: center; }

    /* LAYOUT: Slide 8 (Reflexi贸n) */
    .reflection-layout h2 { font-size: 32px; }
    .reflection-layout .textarea-placeholder { width: 100%; height: 150px; font-size: 16px; }

    /* Botones */
    .button-bar { left: 20px; right: 20px; bottom: 10px; }
    .nav-button { padding: 10px 18px; font-size: 16px; }
    .button-group { gap: 10px; }
}
    </style>
</head>
<body>

<!-- Slide 1: Introducci贸n -->
<div class="slide-container retro-bg active" id="slide1">
    <div class="title-layout">
        <h1 style="font-family: 'Poppins', serif; letter-spacing: 2px;">Conexi贸n Hist贸rica</h1>
        <h2 class="subtitle">(Di谩logos con Presidentes 1910-1955)</h2>
        <div class="main-icon-wrapper">
            <i class="fa-solid fa-microphone-lines retro-icon"></i>
            <i class="fa-solid fa-arrow-right-long tech-icon" style="font-size: 40px; padding: 10px; background-color: transparent; border: none; color: #d90429;"></i>
            <i class="fa-solid fa-computer tech-icon"></i>
        </div>
        <h3 style="color: #012a4a; margin-bottom: 20px; font-weight: 400; font-size: 24px;">Viaja en el tiempo y entrevista a los l铆deres argentinos usando Inteligencia Artificial.</h3>
        <div class="icon-bar">
            <span><i class="fa-solid fa-clock"></i> Historia</span>
            <span><i class="fa-solid fa-brain"></i> IA y Tecnolog铆a</span>
        </div>
    </div>
    <div class="button-bar center">
        <!-- El bot贸n ahora usa JS para avanzar -->
        <button onclick="nextSlide()" class="nav-button primary" style="font-size: 24px; padding: 15px 40px;">Comenzar Entrevista</button>
    </div>
</div>

<!-- Slide 2: Instrucciones -->
<div class="slide-container patriotic-bg" id="slide2">
    <h2 class="slide-title" style="text-align: center; margin-bottom: 50px;">Tu Misi贸n como Periodista Hist贸rico</h2>
    <div class="content-area">
        <div class="tiled-content">
            <div class="tile">
                <div class="icon"><i class="fa-solid fa-book-open-reader"></i></div>
                <h3>PASO 1: Investigar (Libros)</h3>
                <p>Antes de entrevistar, investiga en tus libros de historia y las fichas. Prepara preguntas clave sobre el mandato del presidente que elegiste.</p>
            </div>
            <div class="tile">
                <div class="icon"><i class="fa-solid fa-robot"></i></div>
                <h3>PASO 2: Entrevistar (IA)</h3>
                <p>Ve a la diapositiva del presidente y usa el bot贸n "Ir a ChatGPT". Pega el 'prompt' de rol y hazle tus preguntas como si fueras un periodista.</p>
            </div>
            <div class="tile">
                <div class="icon"><i class="fa-solid fa-magnifying-glass-chart"></i></div>
                <h3>PASO 3: Contrastar (Cr铆tica)</h3>
                <p>隆CUIDADO! La IA puede cometer errores. Compara sus respuestas con tus fuentes (libros). T煤 eres quien debe verificar la verdad hist贸rica.</p>
            </div>
        </div>
    </div>
    <div class="button-bar">
        <button onclick="prevSlide()" class="nav-button secondary">Volver</button>
        <button onclick="nextSlide()" class="nav-button primary">隆Entendido! (Ir a Selecci贸n)</button>
    </div>
</div>

<!-- Slide 3: Selecci贸n de Presidente (CON TUS IMGENES) -->
<div class="slide-container patriotic-bg" id="slide3">
    <h2 class="slide-title" style="text-align: center;">Sala de Prensa Hist贸rica: Elige tu entrevista</h2>
    <div class="content-area">
        <div class="selection-layout">

            <a href="javascript:showSlide(4);" class="selection-card">
                <div class="image-wrapper"><img src="imagenes/yrigoyen.jpg" alt="Retrato de Hip贸lito Yrigoyen" onerror="this.src='https://placehold.co/100x100/A9D6E5/012A4A?text=H.Y.'"></div>
                <div class="card-text-content">
                    <div class="card-text">Hip贸lito Yrigoyen</div>
                    <div class="card-dates">(1916-1922, 1928-1930)</div>
                </div>
            </a>

            <a href="javascript:showSlide(5);" class="selection-card">
                <div class="image-wrapper"><img src="imagenes/alvear.jpg" alt="Retrato de Marcelo T. de Alvear" onerror="this.src='https://placehold.co/100x100/A9D6E5/012A4A?text=M.A.'"></div>
                <div class="card-text-content">
                    <div class="card-text">Marcelo T. de Alvear</div>
                    <div class="card-dates">(1922-1928)</div>
                </div>
            </a>

            <a href="javascript:showSlide(6);" class="selection-card">
                <div class="image-wrapper"><img src="imagenes/uriburu.jpg" alt="Retrato de Jos茅 F茅lix Uriburu" onerror="this.src='https://placehold.co/100x100/A9D6E5/012A4A?text=J.U.'"></div>
                <div class="card-text-content">
                    <div class="card-text">Jos茅 F茅lix Uriburu</div>
                    <div class="card-dates">(1930-1932)</div>
                </div>
            </a>

            <a href="javascript:showSlide(7);" class="selection-card">
                <div class="image-wrapper"><img src="imagenes/peron.jpg" alt="Retrato de Juan Domingo Per贸n" onerror="this.src='https://placehold.co/100x100/A9D6E5/012A4A?text=J.P.'"></div>
                <div class="card-text-content">
                    <div class="card-text">Juan Domingo Per贸n</div>
                    <div class="card-dates">(1946-1955)</div>
                </div>
            </a>

            <div class="icon-bar">
                <span><i class="fa-solid fa-feather-pointed"></i> Periodismo Cr铆tico</span>
                <span><i class="fa-solid fa-robot"></i> Uso de IA</span>
                <span><i class="fa-solid fa-sitemap"></i> Estructura Pol铆tica</span>
                <span><i class="fa-solid fa-magnifying-glass"></i> Verificaci贸n de Fuentes</span>
            </div>
        </div>
    </div>
    <div class="button-bar">
        <button onclick="prevSlide()" class="nav-button secondary">Volver a Instrucciones</button>
        <button onclick="nextSlide()" class="nav-button primary">Siguiente</button>
    </div>
</div>

<!-- Slide 4: Hip贸lito Yrigoyen -->
<div class="slide-container sepia-bg" id="slide4">
    <h2 class="slide-title">Hip贸lito Yrigoyen (1916-1922, 1928-1930)</h2>
    <div class="content-area">
        <div class="two-column">
            <div class="text-content">
                <p>Primer presidente elegido por voto secreto. Promovi贸 derechos laborales y educaci贸n p煤blica.</p>
                <div class="icon-bar-bottom">
                    <i class="fa-solid fa-person-booth" title="Voto Secreto"></i>
                    <i class="fa-solid fa-graduation-cap" title="Reforma Universitaria"></i>
                    <i class="fa-solid fa-handshake" title="Mediaci贸n Laboral"></i>
                </div>
            </div>
            <div class="visual-area">
                <div class="portrait-large"><img src="imagenes/yrigoyen.jpg" alt="Retrato de Hip贸lito Yrigoyen" onerror="this.src='https://placehold.co/250x250/A9D6E5/012A4A?text=H.Y.'"></div>
                <div style="text-align: center; color: #012a4a; font-weight: 700;">
                    <p style="font-size: 20px; margin: 0;">Periodo de la Ley S谩enz Pe帽a.</p>
                </div>
            </div>
        </div>
    </div>
    <div class="button-bar">
        <button onclick="prevSlide()" class="nav-button secondary">Volver</button>
        <div class="button-group">
            <button onclick="openChatModal('Hip贸lito Yrigoyen', 'Act煤a como Hip贸lito Yrigoyen en 1918. Responde en primera persona, con un tono idealista pero pragm谩tico, y fundamenta tus decisiones en hechos hist贸ricos de tu primer mandato (1916-1922).')" class="nav-button primary"><i class="fa-solid fa-robot"></i> Ir a ChatGPT</button>
            <button onclick="nextSlide()" class="nav-button secondary">Siguiente</button>
        </div>
    </div>
</div>

<!-- Slide 5: Marcelo T. de Alvear -->
<div class="slide-container blue-paris-bg" id="slide5">
    <h2 class="slide-title">Marcelo T. de Alvear (1922-1928)</h2>
    <div class="content-area">
        <div class="two-column">
             <div class="visual-area">
                <div class="portrait-large"><img src="imagenes/alvear.jpg" alt="Retrato de Marcelo T. de Alvear" onerror="this.src='https://placehold.co/250x250/A9D6E5/012A4A?text=M.A.'"></div>
                <div style="text-align: center; color: #012a4a; font-weight: 700;">
                    <p style="font-size: 20px; margin: 0;">Periodo de estabilidad econ贸mica y tensiones internas.</p>
                </div>
            </div>
            <div class="text-content">
                <p>Busc贸 estabilidad econ贸mica y continuidad democr谩tica. Enfrent贸 divisiones en la UCR.</p>
                <div class="icon-bar-bottom">
                    <i class="fa-solid fa-scale-balanced" title="Estabilidad Econ贸mica"></i>
                    <i class="fa-solid fa-city" title="Influencia Europea"></i>
                    <i class="fa-solid fa-splotch" title="Divisi贸n del Partido"></i>
                </div>
            </div>
        </div>
    </div>
    <div class="button-bar">
        <button onclick="prevSlide()" class="nav-button secondary">Volver</button>
        <div class="button-group">
            <button onclick="openChatModal('Marcelo T. de Alvear', 'Act煤a como Marcelo T. de Alvear en 1925. Responde en primera persona, con un tono elegante y diplom谩tico (propio de un embajador en Par铆s), y fundamenta tus decisiones en el contexto econ贸mico y las divisiones internas de la UCR.')" class="nav-button primary"><i class="fa-solid fa-robot"></i> Ir a ChatGPT</button>
            <button onclick="nextSlide()" class="nav-button secondary">Siguiente</button>
        </div>
    </div>
</div>

<!-- Slide 6: Jos茅 F茅lix Uriburu -->
<div class="slide-container gray-bg" id="slide6">
    <h2 class="slide-title">Jos茅 F茅lix Uriburu (1930-1932)</h2>
    <div class="content-area">
        <div class="two-column">
            <div class="text-content">
                <p>Lider贸 el primer golpe de Estado en Argentina. Intent贸 imponer un r茅gimen corporativo.</p>
                <div class="icon-bar-bottom">
                    <i class="fa-solid fa-helmet-military" title="Primer Golpe de Estado"></i>
                    <i class="fa-solid fa-gavel" title="Gobierno de Facto"></i>
                    <i class="fa-solid fa-flag" title="Nacionalismo"></i>
                </div>
            </div>
            <div class="visual-area">
                <div class="portrait-large"><img src="imagenes/uriburu.jpg" alt="Retrato de Jos茅 F茅lix Uriburu" onerror="this.src='https://placehold.co/250x250/A9D6E5/012A4A?text=J.U.'"></div>
                <div style="text-align: center; color: #012a4a; font-weight: 700;">
                    <p style="font-size: 20px; margin: 0;">Inicio de la D茅cada Infame.</p>
                </div>
            </div>
        </div>
    </div>
    <div class="button-bar">
        <button onclick="prevSlide()" class="nav-button secondary">Volver</button>
        <div class="button-group">
            <button onclick="openChatModal('Jos茅 F茅lix Uriburu', 'Act煤a como Jos茅 F茅lix Uriburu en 1931. Responde en primera persona con un tono formal, militar y justificando tu golpe de Estado como un acto necesario para el orden y la regeneraci贸n nacional.')" class="nav-button primary"><i class="fa-solid fa-robot"></i> Ir a ChatGPT</button>
            <button onclick="nextSlide()" class="nav-button secondary">Siguiente</button>
        </div>
    </div>
</div>

<!-- Slide 7: Juan Domingo Per贸n -->
<div class="slide-container peron-bg" id="slide7">
    <h2 class="slide-title">Juan Domingo Per贸n (1946-1955)</h2>
    <div class="content-area">
        <div class="two-column">
            <div class="visual-area">
                <div class="portrait-large" style="border-color: #d90429;"><img src="imagenes/peron.jpg" alt="Retrato de Juan Domingo Per贸n" onerror="this.src='https://placehold.co/250x250/D90429/FFFFFF?text=J.P.'"></div>
                <div style="text-align: center; color: #012a4a; font-weight: 700;">
                    <p style="font-size: 20px; margin: 0;">Derechos, justicia social y voto femenino (1947).</p>
                </div>
            </div>
            <div class="text-content">
                <p>Impuls贸 derechos laborales, justicia social y el voto femenino. Fund贸 el movimiento peronista.</p>
                <div class="icon-bar-bottom">
                    <i class="fa-solid fa-heart" title="Evita y Justicia Social"></i>
                    <i class="fa-solid fa-industry" title="Industrializaci贸n"></i>
                    <i class="fa-solid fa-handcuffs" title="Derechos Laborales"></i>
                </div>
            </div>
        </div>
    </div>
    <div class="button-bar">
        <button onclick="prevSlide()" class="nav-button secondary">Volver</button>
        <div class="button-group">
            <button onclick="openChatModal('Juan Domingo Per贸n', 'Act煤a como Juan Domingo Per贸n en 1950. Responde en primera persona, con un tono carism谩tico y centrado en la justicia social. Justifica tus pol铆ticas (derechos laborales, voto femenino, IAPI) y la figura de Eva Per贸n.')" class="nav-button primary"><i class="fa-solid fa-robot"></i> Ir a ChatGPT</button>
            <button onclick="nextSlide()" class="nav-button secondary">Siguiente</button>
        </div>
    </div>
</div>

<!-- Slide 8: Reflexi贸n final -->
<div class="slide-container" id="slide8">
    <h2 class="slide-title">Fase 3: Reflexi贸n y Creaci贸n de Contenido</h2>
    <div class="content-area reflection-layout" style="display: block;">
        <p style="text-align: center;">Tu trabajo final es crear una **L铆nea del Tiempo o Infograf铆a** que resuma los hallazgos.</p>
        <div class="prompt-area">
            <div class="icon-bar">
                <i class="fa-solid fa-timeline"></i>
                <i class="fa-solid fa-file-invoice"></i>
                <i class="fa-solid fa-clipboard-question"></i>
            </div>
            <p style="font-size: 22px; font-weight: normal; color: #334155;">**Preguntas gu铆a para tu producto final:**</p>
            <div class="textarea-placeholder">
                1. 驴Qu茅 informaci贸n te dio la IA que pudiste verificar en tus fuentes? <br>
                2. 驴Qu茅 justificaciones pol铆ticas te parecieron m谩s pol茅micas o dif铆ciles de creer?<br>
                3. 驴Qu茅 diferencias hubo en el tono de cada presidente (Yrigoyen vs. Uriburu)?<br>
                4. 驴Qu茅 ventajas y limitaciones encontraste al usar una IA para estudiar Historia?
            </div>
        </div>
    </div>
    <div class="button-bar end">
        <div class="button-group">
            <button onclick="showSlide(1)" class="nav-button secondary">Volver al inicio</button>
            <button onclick="nextSlide()" class="nav-button primary">Finalizar Actividad</button>
        </div>
    </div>
</div>

<!-- MODAL DE ACTIVIDAD TIC (Oculta por defecto) -->
<div class="modal-overlay" id="chatModal">
    <div class="modal-content">
        <button class="close-button" onclick="closeChatModal()">&times;</button>
        <h3 id="modalTitle">Actividad TIC: Entrevista Virtual con el Presidente</h3>

        <h4>Paso 1: Copia y Pega el Prompt (Instrucci贸n de Rol)</h4>
        <p>Copia el siguiente texto **exacto** y p茅galo como **primer mensaje** en ChatGPT. Esto define el rol del presidente. *Haz clic en el cuadro para copiar.*</p>
        <div class="prompt-box" id="promptText" onclick="copyPrompt()"></div>

        <h4>Paso 2: Formula tus Preguntas (M铆nimo 5)</h4>
        <p>En parejas, formulen preguntas basadas en estos disparadores. 隆Recuerden ser periodistas cr铆ticos!</p>
        <ol>
            <li>驴Qu茅 desaf铆os principales enfrent贸 tu presidente durante su mandato?</li>
            <li>驴C贸mo justific贸 sus decisiones pol铆ticas y econ贸micas?</li>
            <li>驴Qu茅 sectores de la sociedad lo apoyaron y qui茅nes se opusieron?</li>
            <li>驴Qu茅 cambios impuls贸 en educaci贸n, econom铆a o derechos sociales?</li>
            <li>Pregunta **espec铆fica** que te interese sobre un evento de su gobierno (Ej. "Semana Tr谩gica" o "IAPI").</li>
        </ol>


        <h4>Paso 3: Hac茅 tus preguntas en esta misma ventana</h4>
        <p>Escrib铆 tu pregunta abajo. La IA va a responder como si fuera el presidente. Despu茅s, comparen con el libro.</p>

        <div id="chatBox">
            <div id="chatMessages" class="chat-messages"></div>
            <div class="chat-input-row">
                <input
                    id="chatInput"
                    type="text"
                    placeholder="Escrib铆 tu pregunta..."
                    onkeydown="if(event.key==='Enter'){ sendChatMessage(); }"
                />
                <button onclick="sendChatMessage()" class="nav-button primary" style="font-size: 14px; padding: 6px 16px;">
                    Enviar
                </button>
            </div>
        </div>

        <div class="modal-footer">
            <span class="warning"><i class="fa-solid fa-circle-exclamation"></i> Recuerda: 隆Verifica siempre la informaci贸n de la IA!</span>
            <a id="chatLink" href="https://chat.openai.com/" target="_blank" class="nav-button primary">
                <i class="fa-solid fa-up-right-from-square"></i> Abrir ChatGPT
            </a>
        </div>
    </div>
</div>

<script>
    let currentSlide = 1;
    const totalSlides = 8;
    let currentPrompt = "";

    // Funci贸n principal para mostrar una diapositiva espec铆fica
    function showSlide(index) {
        // Asegura que el 铆ndice est茅 dentro de los l铆mites
        if (index < 1) index = 1;
        if (index > totalSlides) return; 

        // Oculta todas las diapositivas
        document.querySelectorAll('.slide-container').forEach(slide => {
            slide.classList.remove('active');
        });

        // Muestra la diapositiva actual
        const targetSlide = document.getElementById('slide' + index);
        if (targetSlide) {
            targetSlide.classList.add('active');
            currentSlide = index;
            // Scroll al top del cuerpo (necesario en m贸vil despu茅s de cambiar de slide)
            document.body.scrollTop = 0; 
            document.documentElement.scrollTop = 0;
        }
    }

    // Funciones de navegaci贸n
    function nextSlide() {
        showSlide(currentSlide + 1);
    }
    function prevSlide() {
        showSlide(currentSlide - 1);
    }

    // L贸gica del modal (mantengo la funcionalidad previa)
    function openChatModal(name, customPrompt) {
        const modal = document.getElementById('chatModal');
        const promptDisplay = document.getElementById('promptText');
        const title = document.getElementById('modalTitle');
        const chatMessages = document.getElementById('chatMessages');
        const chatInput = document.getElementById('chatInput');

        currentPrompt = customPrompt;
        promptDisplay.textContent = customPrompt;
        title.textContent = `Actividad TIC: Entrevista Virtual con ${name}`;

        if (chatMessages) chatMessages.innerHTML = "";
        if (chatInput) chatInput.value = "";

        modal.style.display = 'flex';
        document.body.style.overflow = 'hidden'; 
    }

    function closeChatModal() {
        document.getElementById('chatModal').style.display = 'none';
        document.body.style.overflow = 'auto'; 
    }

    function copyPrompt() {
        const promptElement = document.getElementById('promptText');
        const promptText = promptElement.textContent || promptElement.innerText;

        if (navigator.clipboard) {
            navigator.clipboard.writeText(promptText).then(() => {
                const originalText = promptElement.textContent;
                promptElement.textContent = "隆Copiado al portapapeles! ";
                setTimeout(() => {
                    promptElement.textContent = originalText;
                }, 1500);
            }).catch(err => {
                console.error('Error al copiar: ', err);
                copyPromptExecCommand(promptElement, promptText);
            });
        } else {
            copyPromptExecCommand(promptElement, promptText);
        }
    }

    function copyPromptExecCommand(promptElement, promptText) {
        const textArea = document.createElement("textarea");
        textArea.value = promptText;
        document.body.appendChild(textArea);
        textArea.select();
        try {
            document.execCommand('copy');
            const originalText = promptElement.textContent;
            promptElement.textContent = "隆Copiado al portapapeles! ";
            setTimeout(() => {
                promptElement.textContent = originalText;
            }, 1500);
        } catch (err) {
            console.error('Fallback execCommand fall贸', err);
        }
        document.body.removeChild(textArea);
    }


    // Enviar mensaje al chat (usa la funci贸n serverless de Netlify)
    async function sendChatMessage() {
        const input = document.getElementById('chatInput');
        const messagesDiv = document.getElementById('chatMessages');
        if (!input || !messagesDiv) return;

        const question = input.value.trim();
        if (!question) return;

        // Mensaje del usuario
        const userMsg = document.createElement('div');
        userMsg.className = 'chat-message user';
        userMsg.textContent = `Vos: ${question}`;
        messagesDiv.appendChild(userMsg);

        input.value = '';
        messagesDiv.scrollTop = messagesDiv.scrollHeight;

        // Mensaje de "pensando..."
        const loadingMsg = document.createElement('div');
        loadingMsg.className = 'chat-message assistant';
        loadingMsg.textContent = 'Presidente (pensando...)';
        messagesDiv.appendChild(loadingMsg);
        messagesDiv.scrollTop = messagesDiv.scrollHeight;

        try {
            const res = await fetch('/.netlify/functions/chat', {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify({
                    systemPrompt: currentPrompt,
                    question: question
                })
            });

            const data = await res.json();

            if (data && data.answer) {
                loadingMsg.textContent = `Presidente: ${data.answer}`;
            } else if (data && data.error) {
                loadingMsg.textContent = 'Error: ' + data.error;
            } else {
                loadingMsg.textContent = 'No pude generar una respuesta.';
            }
        } catch (err) {
            console.error(err);
            loadingMsg.textContent = 'Error al contactar con la IA. Prob谩 de nuevo.';
        }

        messagesDiv.scrollTop = messagesDiv.scrollHeight;
    }

    document.getElementById('chatModal').addEventListener('click', function(e) {
        if (e.target === this) {
            closeChatModal();
        }
    });

    // Inicia la presentaci贸n mostrando solo la primera diapositiva
    document.addEventListener('DOMContentLoaded', () => {
        showSlide(1); 
    });
</script>

</body>
</html>
